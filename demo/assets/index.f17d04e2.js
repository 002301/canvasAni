import{p as t,a as e,r as s,o as i,c as a,b as n,d as h,t as r,e as o,f as l,F as c,w as d,g as A,h as u,i as v,j as g}from"./vendor.b8fa96ef.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(s){const i=new URL(t,location),a=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((s,n)=>{const h=new URL(t,i);if(self[e].moduleMap[h])return s(self[e].moduleMap[h]);const r=new Blob([`import * as m from '${h}';`,`${e}.moduleMap['${h}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){n(new Error(`Failed to import: ${t}`)),a(o)},onload(){s(self[e].moduleMap[h]),a(o)}});document.head.appendChild(o)})),self[e].moduleMap={}}}("assets/");t("data-v-cf4b2cba");const m=n("a",{id:"gitHub",href:"https://github.com/002301/GlitchArt"},[n("svg",{width:"80",height:"80",viewBox:"0 0 250 250",style:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},"aria-hidden":"true"},[n("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),n("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{"transform-origin":"130px 106px"},class:"octo-arm"}),n("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",class:"octo-body"})])],-1),p=n("a",{id:"npm",href:"https://www.npmjs.com/package/@airmn/glitchart"},[n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAB8CAMAAAAvgZn6AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAb1BMVEUAAADORUXdgH7bdnbRTUzYbW3TVFPZbWz+/f3ijY378/Ppra312dnpqan//v7yy8vuu7r99/f67+/SUU/34+Pwysrhjo7UWVjzzs7XZGTvv7/54+Pqra3ORUTlnJrfh4fLODjLNzfINzfLODf///8xijbnAAAAI3RSTlMA8MzP6dPj1OfH1MHDwfHAv9jP58fBxuDB2L/GwPHDyEldHI9hLNYAAAABYktHRCS0BvmZAAAAB3RJTUUH4QgJAiQLOQqKjAAAAWVJREFUeNrt3clSwkAUhtEwGMARxBFFUHn/Z2Tfd0GIN1SsnG/d/Sd1smRB9as/VSEACBAgQAEECBCgAAIECFAAAQIcMOBonNIkDE9zhq/CcD2+WKMGgLNDSvMwvMgZvg7DN4eLNQMIECBAgAABAgQIECBAgAABAgQIECDAMwFv78rucwAfwnAS4LLcXYYjq/Dsx84AF+HWPAcwvmAS4Lq8tA5HnsLwM0CAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIMB/D/jyWgbwLMAGAQQIECBAgAABAgQIECBAgAABAgQIEGBvAOu3072HW5vyyKYV4MfpZ3+G4UmDN96Wl7bhyFcY3oUzdQPAzmr3m0jfAwgQIECAAAECBAgQIECAAAECBAgQ4IAA9x31HR41bfXHd/ueV3XVT9YXHmoAAQIECBAgQIAAAQIECBAgQIAAAQLsXUeZgqjubEflUgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOC0wOVQwMjozNjoxMSswMDowMFUH2vMAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDgtMDlUMDI6MzY6MTErMDA6MDAkWmJPAAAAAElFTkSuQmCC",alt:""})],-1),f=n("h1",null,"canvasAni",-1),w=n("h2",null,"一个canvas动画效果集合项目",-1);e();const y={expose:[],props:{msg:String},setup:t=>(s({count:0}),(t,e)=>(i(),a("header",null,[m,p,f,w]))),__scopeId:"data-v-cf4b2cba"};t("data-v-5731158f");const x={class:"code"},C={class:"title"},M=n("div",{class:"point"},null,-1),b={class:"content"};e();const I={expose:[],setup:t=>(t,e)=>(i(),a("div",x,[n("div",C,[M,h(r(t.title),1)]),n("div",b,[o(t.$slots,"default",{},void 0,!0)])])),__scopeId:"data-v-5731158f"};let B,E=(t,e,s=10)=>{let i=null,a=null,n=t,h=s,r=()=>document.querySelector(t),o=t=>{let e=0;const s=()=>{r()?setTimeout((()=>{e<450?(l(t),e+=50,s()):(a.clearRect(0,0,i.width,i.height),a.drawImage(t,0,0,n.width,n.height),setTimeout((()=>{e=0,s()}),2e3))}),30):i=a=null};s()},l=t=>{let e=0;for(a.clearRect(0,0,n.width,n.height);e<t.height;){let i=S(3,~~(t.height/100*20));var s=S(-Math.abs(h),h);a.drawImage(t,0,e,t.width,i,s,e*n.dpr,n.width,i*n.dpr),e+=i}};(t=>{if(n=r(),i=document.createElement("canvas"),n.appendChild(i),null!=i){a=i.getContext("2d");let{width:t,height:e,top:s,left:h}=n.getBoundingClientRect();i.width=t,i.height=e;let r="width:100%;height:100%";i.style=r}else console.log("canvas null")})(),(t=>{let e=new Image;e.src=t,e.onload=()=>{!function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),s=!0,i=0;i<e.length;i++)if(t.indexOf(e[i])>0){s=!1;break}return s}()?(n.dpr=i.width/e.width,n.width=e.width*n.dpr,n.height=e.height*n.dpr):(n.dpr=1,n.width=e.width,n.height=e.height),o(e)}})(e)},S=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;class P{static randomNumber(t,e){return Math.floor(Math.random()*(e-t+1)+t)}static randomColorRGB(){return"rgb("+this.randomNumber(0,255)+", "+this.randomNumber(0,255)+", "+this.randomNumber(0,255)+")"}static randomColorHSL(t,e,s){return"hsl("+t+", "+e+"%, "+s+"%)"}static gradientColor(t,e,s,i,a,n,h,r){const o=e+","+s+","+i,l=t.createRadialGradient(n,h,0,n,h,r);return l.addColorStop(0,"rgba("+o+", "+1*a+")"),l.addColorStop(.5,"rgba("+o+", "+.5*a+")"),l.addColorStop(1,"rgba("+o+", "+0*a+")"),l}static createMultipleArray(t,e){let s=t,i=e,a=new Array(s);for(let n=0;n<s;n++){a[n]=new Array(s);for(let t=0;t<i;t++)a[n][t]=0}return a}static calcFPS(){const t=+new Date,e=1e3/(t-F);return F=t,e.toFixed()}}class _{constructor(t,e){this.vx=t,this.vy=e}scale(t){this.vx*=t,this.vy*=t}add(t,e,s){if(t instanceof _)return new _(this.vx+t.vx,this.vy+t.vy);this.vx+=e,this.vy+=s}mult(t){return new _(this.vx*t,this.vy*t)}sub(t,e,s){if(t instanceof _)return new _(this.vx-t.vx,this.vy-t.vy);this.vx-=e,this.vy-=s}dist(t){return Math.sqrt(Math.pow(t.vx-this.vx,2)+Math.pow(t.vy-this.vy,2))}fromAngle(t){this.vx=Math.cos(t),this.vy=Math.sin(t)}negate(){this.vx=-this.vx,this.vy=-this.vy}length(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)}lengthSquared(){return this.vx*this.vx+this.vy*this.vy}normalize(){let t=Math.sqrt(this.vx*this.vx+this.vy*this.vy);return t&&(this.vx/=t,this.vy/=t),t}rotate(t){let e=this.vx,s=this.vy,i=Math.cos(t),a=Math.sin(t);this.vx=e*i-s*a,this.vy=e*a+s*i}toString(){return"("+this.vx.toFixed(3)+","+this.vy.toFixed(3)+")"}}let k,L,Q,R,U,D,G,T,j,F=0;class q{constructor(t,e=!0){this.canvas=document.createElement("canvas"),!0===e&&(this.canvas.style.position="relative",this.canvas.style.display="block",this.canvas.style.backgroundColor="black",this.canvas.style.top="0",this.canvas.style.left="0",this._dom=this.getDom(t),this._dom().appendChild(this.canvas));let{width:s,height:i}=this._dom().getBoundingClientRect();this.ctx=this.canvas.getContext("2d"),console.log(s,i),this.width=this.canvas.width=s,this.height=this.canvas.height=i,this.mouseX=null,this.mouseY=null,this.mouseZ=null,this.number_of_shapes=1,this.shapes_array=[],B=this,this.init(),this.render()}init(){for(let t=0;t<this.number_of_shapes;t++){const e=new N(this.ctx,this.width/2,this.height/2,t);this.shapes_array.push(e)}}getDom(t){return()=>document.querySelector(t)}render(){if(this._dom()){this.ctx.clearRect(0,0,this.width,this.height);for(let t=0;t<this.shapes_array.length;t++)this.shapes_array[t].render();window.requestAnimationFrame((()=>{this.render()}))}else this.del()}del(){console.log("del"),this.canvas=this.ctx=null}drawFPS(){const t=this.ctx;t.save(),t.fillStyle="white",t.font="16px sans-serif",t.textAlign="right",t.textBaseline="bottom",t.fillText(P.calcFPS()+" FPS",this.width,this.height),t.restore()}resize(){this.shapes_array=[],this.width=this.canvas.width=this._dom.width,this.height=this.canvas.height=this._dom.height,this.init()}}class N{constructor(t){this.ctx=t,this.init()}init(){this.criterion=B.width>B.height?1.1*B.width:B.height,this.num=3,this.lattice=null,this.base=new Array(2),this.scalar=null,this.gap=.1,this.setup()}setup(){this.scalar=this.criterion/this.num,this.makeSqVector(),this.makeSqLattice()}makeSqVector(){this.base[0]=new _(Math.cos(Math.PI/2),Math.sin(Math.PI/2)),this.base[1]=new _(Math.cos(Math.PI/6),Math.sin(Math.PI/6))}makeSqLattice(){const t=Math.ceil(this.num/this.base[1].vx);this.lattice=P.createMultipleArray(this.num+1,this.num+1);for(let e=0;e<=this.num;e++)for(let s=0;s<=t;s++){let t=this.base[0].mult(e*this.scalar),i=this.base[1].mult(s*this.scalar),a=t.add(i);this.lattice[e][s]=new _(a.vx,a.vy%(this.criterion+this.scalar))}}makeTriangle(){const t=this.ctx;for(let e=0;e<2;e++)for(let s=0;s<3;s++)t.save(),t.scale(1,Math.pow(-1,e)),t.rotate(2*Math.PI*s/3),this.makeRecurTriangle(),t.restore()}makeRecurTriangle(){const t=this.ctx;t.lineWidth=1,t.globalCompositeOperation="lighter";let e=new Array(3);e[2]=new _(0,0);for(let s=0;s<2;s++)e[s]=new _(Math.cos(s*Math.PI/3),Math.sin(s*Math.PI/3)),e[s].scale(this.scalar/Math.sqrt(3));for(let s=0;s<36;s++){t.strokeStyle="hsl("+s*Math.sin(Date.now()/1e3)*10+", 80%, 60%)",t.beginPath();for(let s=0;s<3;s++)0===s?t.moveTo(e[s].vx,e[s].vy):t.lineTo(e[s].vx,e[s].vy);t.closePath(),t.stroke(),e=this.getVector(e)}}getVector(t){const e=new Array(3);for(let s=0;s<3;s++){const i=t[(s+1)%3].sub(t[s]);i.scale(this.gap),e[s]=t[s].add(i)}return e}drawTiling(){const t=this.ctx;for(let e=0;e<this.lattice.length;e++)for(let s=0;s<this.lattice.length;s++)t.save(),t.translate(this.lattice[e][s].vx,this.lattice[e][s].vy),this.makeTriangle(),t.restore()}render(){this.drawTiling(),this.gap=Math.cos(Date.now()/5e3)<0?-Math.cos(Date.now()/5e3):Math.cos(Date.now()/5e3)}}function H(t){k=function(t){let e=document.querySelector(t),s=document.createElement("canvas");e.appendChild(s);let{width:i,height:a,top:n,left:h}=e.getBoundingClientRect();return s.width=i,s.height=a,s.style="width:100%;height:100%",s}(t),L=k.getContext("2d"),j=k.parentNode.className,Q=[],R=60,U=80,D=.1,G=k.width,T=k.height;for(var e=0;e<R;e++){var s=new W(3*Math.random(),"#fff");s.x=Math.random()*G,s.y=Math.random()*T,s.vx=6*Math.random()-3,s.vy=6*Math.random()-3,Q.push(s)}O(),console.log(k.parentNode.className)}function O(){L.clearRect(0,0,G,T),Q.forEach(((t,e)=>{!function(t,e){t.x+=t.vx/1e3,t.y+=t.vy/1e3,t.x>k.width?t.x=0:t.x<0&&(t.x=k.width);t.y>k.height?t.y=0:t.y<0&&(t.y=k.height);for(var s=e+1;s<R;s++)V(t,Q[s])}(t,e),t.draw(L)})),document.querySelector("."+j)?requestAnimationFrame(O):(k=L=null,console.log("del"))}function V(t,e){var s=e.x-t.x,i=e.y-t.y;if(Math.sqrt(s*s+i*i)<U){L.save(),L.strokeStyle="rgba(255,255,255,.3)",L.beginPath(),L.moveTo(t.x,t.y),L.lineTo(e.x,e.y),L.closePath(),L.stroke(),L.restore();var a=s*D,n=i*D;t.vx+=a,t.vy+=n,e.vx-=a,e.vy-=n}}function W(t,e){void 0===t&&(t=40),void 0===e&&(e="#00ff00"),this.x=0,this.y=0,this.vx=0,this.vy=0,this.radius=t,this.rotation=0,this.mass=1,this.scaleX=1,this.scaleY=1,this.name="",this.color=z(e),this.lineWidth=1}W.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.lineWidth=this.lineWidth,t.fillStyle=this.color,t.strokeStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke(),t.restore()},W.prototype.getBounds=function(){return{x:this.x-this.radius,y:this.y-this.radius,width:2*this.radius,height:2*this.radius}};const z=function(t,e){return!0===e?"number"==typeof t?0|t:("string"==typeof t&&"#"===t[0]&&(t=t.slice(1)),window.parseInt(t,16)):("number"==typeof t&&(t="#"+("00000"+(0|t).toString(16)).substr(-6)),t)};const Y=d();t("data-v-585f886c");const Z=n("div",{class:"GlitchArt"},null,-1),X=n("pre",null,"import {GlitchArt} from '../canvasAin'; \nlet img = \"../assets/bg.jpg\" \nGlitchArt('.GlitchArt',img);\n",-1);e();const $={expose:[],setup:t=>(l((()=>{E(".GlitchArt","./assets/bg.b7acbf5c.jpg")})),(t,e)=>(i(),a(c,null,[Z,n(I,null,{default:Y((()=>[X])),_:1})],64))),__scopeId:"data-v-585f886c"};const J=d();t("data-v-da6488d4");const K=n("div",{class:"lineCanvas"},null,-1),tt=n("pre",null,"import {lineCanvas} from '../canvasAin'; \nnew lineCanvas('.lineCanvas');\n",-1);e();const et={expose:[],setup:t=>(l((()=>{new q(".lineCanvas")})),(t,e)=>(i(),a(c,null,[K,n(I,null,{default:J((()=>[tt])),_:1})],64))),__scopeId:"data-v-da6488d4"};const st=d();t("data-v-1a7f5314");const it=n("div",{class:"gravity"},null,-1),at=n("pre",null,"import {Gravity} from '../canvasAin'; \nGravity('.gravity');\n",-1);e();const nt={expose:[],setup(t){let e;return l((()=>{e=H(".gravity"),console.log("demo",e)})),(t,e)=>(i(),a(c,null,[it,n(I,null,{default:st((()=>[at])),_:1})],64))},__scopeId:"data-v-1a7f5314"};t("data-v-74006acf");const ht={class:"content"},rt={class:"item"};e();const ot={expose:[],setup(t){const e=A(0),s=["GlitchArt","LineCanvas","Gravity"];return(t,h)=>(i(),a(c,null,[n(y),n("nav",null,[n("ul",null,[(i(),a(c,null,u(s,((t,s)=>n("li",{key:s,class:{active:e.value==s},onClick:t=>{return i=s,void(e.value=i);var i}},r(t),11,["onClick"]))),64))])]),n("div",ht,[n("div",rt,[0==e.value?(i(),a($,{key:0})):v("",!0),1==e.value?(i(),a(et,{key:1})):v("",!0),2==e.value?(i(),a(nt,{key:2})):v("",!0)])])],64))},__scopeId:"data-v-74006acf"};g(ot).mount("#app");const lt=()=>{let t=screen.width/750,e=`width=750, initial-scale=${t}, maximum-scale=${t}, minimum-scale=${t}`,s=document.querySelector("meta[name=viewport]");s||(s=document.createElement("meta"),s.setAttribute("name","viewport"),document.head.appendChild(s)),s.setAttribute("content",e)};lt(),window.onorientationchange=lt;
